<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#8B7355">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="JodHuay">
    <meta name="description" content="JodHuay - ‡∏à‡∏î‡∏´‡∏ß‡∏¢ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î ‡∏´‡∏ß‡∏¢‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô ‡∏´‡∏ß‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="./assets/icon.png">
    <link rel="apple-touch-icon" href="./assets/icon.png">
    <title>JodHuay - ‡∏à‡∏î‡∏´‡∏ß‡∏¢</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Charmonman:wght@400;700&family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: {
                            50: '#FAF8F5', 100: '#F5F0E8', 200: '#E8DFD0', 300: '#D4C4A8',
                            400: '#C4A052', 500: '#B8956E', 600: '#8B7355', 700: '#6B5A45'
                        },
                        cream: {
                            50: '#FDFCFA', 100: '#FAF8F5', 200: '#F5F0E8'
                        },
                        accent: {
                            red: '#8B4513', gold: '#C4A052'
                        }
                    },
                    fontFamily: { prompt: ['Prompt', 'sans-serif'] }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-prompt min-h-screen">
    <!-- ‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡∏ó‡∏≠‡∏á‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå -->
    <div class="gold-particles">
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
    </div>
    
    <div class="max-w-xl mx-auto px-4 py-8 pb-10 page-enter">
        <!-- Header -->
        <header class="text-center mb-8 relative">
            <div class="sacred-glow"></div>
            <!-- ‡πÄ‡∏•‡∏Ç ‡πô ‡∏°‡∏á‡∏Ñ‡∏• -->
            <div class="absolute top-2 right-2 text-gold-400 text-xs opacity-40 font-light">‡πô</div>
            <div class="absolute top-2 left-2 text-gold-400 text-xs opacity-40 font-light">‡πô</div>
            
            <div class="flex items-center justify-center gap-3 mb-2">
                <span class="text-gold-400 text-2xl floating-symbol">‡πõ</span>
                <h1 class="brand-title">JODHUAY</h1>
                <span class="text-gold-400 text-2xl floating-symbol" style="display:inline-block;transform:scaleX(-1);">‡πõ</span>
            </div>
            <p class="brand-subtitle">‡∏à‡∏î‡∏´‡∏ß‡∏¢ & ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î</p>
            <!-- ‡∏à‡∏∏‡∏î‡∏ó‡∏≠‡∏á‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á -->
            <div class="flex items-center justify-center gap-2 mt-3 mb-2">
                <span class="w-1.5 h-1.5 rounded-full bg-gold-400 opacity-60 pulse-dot"></span>
                <span class="w-2 h-2 rounded-full bg-gold-500 pulse-dot" style="animation-delay: 0.2s;"></span>
                <span class="w-1.5 h-1.5 rounded-full bg-gold-400 opacity-60 pulse-dot" style="animation-delay: 0.4s;"></span>
            </div>
            <p class="text-gold-600 font-light text-sm tracking-widest mt-2">‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏°‡∏≤‡πÄ‡∏ó‡∏°‡∏≤</p>
            <p class="text-gold-500 text-xs mt-1 opacity-60">üôè ‡∏™‡∏¥‡∏£‡∏¥‡∏°‡∏á‡∏Ñ‡∏•‡∏à‡∏á‡∏ö‡∏±‡∏á‡πÄ‡∏Å‡∏¥‡∏î üôè</p>
        </header>

        <!-- Tabs -->
        <div class="flex mb-8 bg-white rounded-2xl shadow-lg p-1.5 border border-gold-100">
            <button id="tabGovernment" onclick="switchTab('government')" 
                class="tab-btn flex-1 py-3.5 rounded-xl font-semibold active">
                ‡∏´‡∏ß‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•
            </button>
            <button id="tabUnderground" onclick="switchTab('underground')" 
                class="tab-btn flex-1 py-3.5 rounded-xl font-semibold">
                ‡∏´‡∏ß‡∏¢‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô
            </button>
        </div>

        <!-- Government Section -->
        <div id="governmentSection" class="section-content">
            <!-- Form -->
            <div class="card rounded-2xl p-5 mb-6">
                <h3 class="text-lg font-bold text-gold-700 mb-5 text-center">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</h3>
                
                <!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó - Horizontal Scroll -->
                <div class="mb-6">
                    <label class="block text-gold-700 text-sm mb-3 font-semibold text-center tracking-wide">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ß‡∏¢</label>
                    <div class="choice-chips flex gap-3 overflow-x-auto pb-2 px-1 -mx-4 px-5 snap-x scrollbar-hide" id="govTypeChips">
                        <button type="button" class="choice-chip active flex-shrink-0 snap-center" data-value="6">6 ‡∏ï‡∏±‡∏ß‡∏ï‡∏£‡∏á</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="front3">‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡πâ‡∏≤ 3 ‡∏ï‡∏±‡∏ß</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="back3">‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 3 ‡∏ï‡∏±‡∏ß</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="back2">‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 2 ‡∏ï‡∏±‡∏ß</button>
                    </div>
                    <input type="hidden" id="govType" value="6">
                </div>
                
                <!-- ‡πÄ‡∏•‡∏Ç - Hero Display -->
                <div class="mb-6">
                    <div class="hero-input-container relative group cursor-pointer" onclick="openGovNumpad()">
                        <div class="absolute inset-0 bg-white rounded-2xl shadow-inner hero-border"></div>
                        <div class="relative py-8 text-center">
                            <label class="block text-gold-500 text-xs mb-2 font-medium tracking-widest uppercase">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç</label>
                            <input type="tel" id="govNumber" maxlength="6" placeholder="- - - - - -" readonly
                                class="w-full bg-white text-center text-5xl font-bold text-gold-700 placeholder-gold-300 pointer-events-none border-0 outline-none">
                            <p class="text-xs text-gold-400 mt-3 font-light">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</p>
                        </div>
                    </div>
                </div>
                
                <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô -->
                <div class="mb-5">
                    <label class="block text-gray-600 text-sm mb-3 font-semibold text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                    <div class="choice-chips flex gap-3 overflow-x-auto pb-2 px-1 -mx-4 px-5 snap-x scrollbar-hide" id="govQtyChips">
                        <button type="button" class="choice-chip active flex-shrink-0 snap-center" data-value="1">1 ‡πÉ‡∏ö</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="2">2 ‡πÉ‡∏ö</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="3">3 ‡πÉ‡∏ö</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="5">5 ‡πÉ‡∏ö</button>
                        <button type="button" class="choice-chip flex-shrink-0 snap-center" data-value="10">10 ‡πÉ‡∏ö</button>
                    </div>
                    <input type="hidden" id="govQty" value="1">
                </div>
                
                <button onclick="addGovernment()" class="gold-btn w-full py-4 rounded-xl font-semibold text-white text-lg shadow-lg">
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                </button>
            </div>

            <!-- List -->
            <div class="card rounded-2xl p-4">
                <h3 class="text-base font-bold text-gold-700 mb-3 flex items-center justify-between">
                    <span class="flex items-center gap-2">
                        <span class="w-2 h-2 bg-gold-500 rounded-full"></span>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                    </span>
                    <span id="govCount" class="text-sm font-normal text-gray-400"></span>
                </h3>
                
                <!-- Search Bar -->
                <div id="govSearchBar" class="hidden mb-3">
                    <div class="relative">
                        <input type="text" id="govSearchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç..." 
                            oninput="filterGovernment()"
                            class="w-full px-4 py-2 pl-10 rounded-xl border-2 border-gray-200 focus:border-gold-400 focus:outline-none text-sm">
                        <svg class="w-5 h-5 text-gray-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                </div>
                
                <div id="govList" class="space-y-2 max-h-64 overflow-y-auto">
                    <p class="text-gray-400 text-center py-6 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                </div>
            </div>
        </div>

        <!-- Underground Section -->
        <div id="undergroundSection" class="section-content hidden">
            <!-- Summary Dashboard -->
            <div class="grid grid-cols-2 gap-3 mb-6">
                <div class="dashboard-card bg-gradient-to-br from-gold-50 to-white rounded-xl p-4 border-2 border-gold-300 shadow-sm">
                    <p class="text-xs text-gray-500 mb-1 font-medium">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    <p id="ugDashTotal" class="text-2xl font-bold text-gold-700">0</p>
                    <p class="text-xs text-gold-500 mt-1">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                </div>
                <div class="dashboard-card bg-gradient-to-br from-gold-50 to-white rounded-xl p-4 border-2 border-gold-300 shadow-sm">
                    <p class="text-xs text-gray-500 mb-1 font-medium">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô</p>
                    <p id="ugDashAmount" class="text-2xl font-bold text-gold-700">0‡∏ø</p>
                    <p class="text-xs text-gold-500 mt-1">‡∏ö‡∏≤‡∏ó</p>
                </div>
            </div>
            
            <!-- Form -->
            <div class="card rounded-2xl p-5 mb-6">
                <h3 class="text-lg font-bold text-gold-700 mb-5 text-center">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</h3>
                
                <!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó - Horizontal Scroll -->
                <div class="mb-6">
                    <label class="block text-gold-700 text-sm mb-3 font-semibold text-center tracking-wide">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ß‡∏¢</label>
                    <div class="choice-chips flex gap-3 overflow-x-auto pb-2 px-1 -mx-4 px-5 snap-x scrollbar-hide" id="ugTypeChips">
                        <button type="button" class="choice-chip chip-bon active flex-shrink-0 snap-center" data-value="3bon">3 ‡∏ï‡∏±‡∏ß‡∏ö‡∏ô</button>
                        <button type="button" class="choice-chip chip-bon flex-shrink-0 snap-center" data-value="2bon">2 ‡∏ï‡∏±‡∏ß‡∏ö‡∏ô</button>
                        <button type="button" class="choice-chip chip-lang flex-shrink-0 snap-center" data-value="2lang">2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á</button>
                        <button type="button" class="choice-chip chip-bon flex-shrink-0 snap-center" data-value="runBon">‡∏ß‡∏¥‡πà‡∏á‡∏ö‡∏ô</button>
                        <button type="button" class="choice-chip chip-lang flex-shrink-0 snap-center" data-value="runLang">‡∏ß‡∏¥‡πà‡∏á‡∏•‡πà‡∏≤‡∏á</button>
                    </div>
                    <input type="hidden" id="ugType" value="3bon">
                </div>
                
                <!-- ‡πÄ‡∏•‡∏Ç - Hero Display -->
                <div class="mb-6">
                    <div class="hero-input-container relative group cursor-pointer" onclick="openUgNumpad()">
                        <div class="absolute inset-0 bg-white rounded-2xl shadow-inner hero-border"></div>
                        <div class="relative py-8 text-center">
                            <label class="block text-gold-500 text-xs mb-2 font-medium tracking-widest uppercase">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç</label>
                            <input type="tel" id="ugNumber" maxlength="3" placeholder="- - -" readonly
                                class="w-full bg-white text-center text-5xl font-bold text-gold-700 placeholder-gold-300 pointer-events-none border-0 outline-none">
                            <p class="text-xs text-gold-400 mt-3 font-light">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</p>
                        </div>
                    </div>
                </div>

                <!-- ‡∏£‡∏≤‡∏Ñ‡∏≤ - Compact Input Group -->
                <div class="mb-5">
                    <label class="block text-gray-600 text-sm mb-3 font-semibold text-center">‡∏£‡∏≤‡∏Ñ‡∏≤</label>
                    
                    <!-- ‡πÄ‡∏ï‡πá‡∏á -->
                    <div class="mb-3">
                        <label class="block text-gray-500 text-xs mb-1.5 text-center font-medium">‡πÄ‡∏ï‡πá‡∏á</label>
                        <div class="relative max-w-sm mx-auto">
                            <input type="tel" id="ugPriceDirect" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏Ñ‡∏≤" readonly
                                onclick="openPriceNumpad('ugPriceDirect', '‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏á')"
                                class="w-full py-3 rounded-xl border-2 border-gray-300 text-center text-xl font-bold cursor-pointer bg-white text-gray-900 placeholder-gray-400"
                                style="caret-color: transparent;">
                        </div>
                    </div>
                    
                    <!-- ‡∏õ‡∏∏‡πà‡∏° +/- ‡πÇ‡∏ï‡πä‡∏î -->
                    <div class="flex items-center justify-center my-4">
                        <button id="addTodBtn" onclick="toggleTodPrice()" 
                            class="w-10 h-10 rounded-full border-2 border-gold-300 bg-gold-50 text-gold-600 font-bold text-xl flex items-center justify-center hover:bg-gold-100 transition-all shadow-sm">
                            +
                        </button>
                    </div>
                    
                    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏ï‡πä‡∏î) -->
                    <div id="copyPriceBtn" class="hidden flex justify-center items-center mb-3">
                        <button type="button" onclick="copyPriceToTod()" 
                            class="bg-gold-100 hover:bg-gold-200 border border-gold-300 text-gold-700 text-xs font-bold px-3 py-1.5 rounded-full shadow-sm transform transition hover:scale-110 flex items-center gap-1">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                            </svg>
                            ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô
                        </button>
                    </div>
                    
                    <!-- ‡πÇ‡∏ï‡πä‡∏î (‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà) -->
                    <div id="todPriceSection" class="hidden">
                        <label class="block text-gray-500 text-xs mb-1.5 text-center font-medium">‡πÇ‡∏ï‡πä‡∏î</label>
                        <div class="relative max-w-sm mx-auto">
                            <input type="tel" id="ugPriceTod" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏Ñ‡∏≤" readonly
                                onclick="openTodNumpad()"
                                class="w-full py-3 rounded-xl border-2 border-gray-300 text-center text-xl font-bold cursor-pointer bg-white text-gray-900 placeholder-gray-400"
                                style="caret-color: transparent; padding-left: 100px; padding-right: 100px;">
                            <div class="absolute right-2 top-1/2 transform -translate-y-1/2">
                                <select id="ugTodType" onchange="onTodGlabChange()" 
                                    class="py-2 px-3 rounded-lg bg-gray-50 text-sm font-bold text-gray-600 border-2 border-gray-300 cursor-pointer appearance-none pr-8">
                                    <option value="">-</option>
                                    <option value="‡∏Å.3">‡∏Å.3</option>
                                    <option value="‡∏Å.6">‡∏Å.6</option>
                                </select>
                                <div class="absolute inset-y-0 right-2 flex items-center pointer-events-none">
                                    <svg class="fill-current h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                        <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <p class="text-xs text-gray-400 mt-3 text-center">‡∏Å.3 = ‡∏Å‡∏•‡∏±‡∏ö 3 ‡∏ä‡∏∏‡∏î | ‡∏Å.6 = ‡∏Å‡∏•‡∏±‡∏ö 6 ‡∏ä‡∏∏‡∏î</p>
                </div>

                <button onclick="addUnderground()" class="gold-btn w-full py-4 rounded-xl font-semibold text-white text-lg shadow-lg">
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                </button>
            </div>

            <!-- List -->
            <div class="card rounded-2xl p-4">
                <h3 class="text-base font-bold text-gold-700 mb-3 flex items-center justify-between">
                    <span class="flex items-center gap-2">
                        <span class="w-2 h-2 bg-gold-500 rounded-full"></span>
                        ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                    </span>
                    <span id="ugCount" class="text-sm font-normal text-gray-400"></span>
                </h3>
                
                <!-- Search Bar -->
                <div id="ugSearchBar" class="hidden mb-3">
                    <div class="relative">
                        <input type="text" id="ugSearchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç..." 
                            oninput="filterUnderground()"
                            class="w-full px-4 py-2 pl-10 rounded-xl border-2 border-gray-200 focus:border-gold-400 focus:outline-none text-sm">
                        <svg class="w-5 h-5 text-gray-400 absolute left-3 top-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <!-- Filter Chips -->
                    <div class="flex gap-2 mt-2 overflow-x-auto pb-1 scrollbar-hide">
                        <button onclick="filterByType('all')" class="filter-chip active" data-filter="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                        <button onclick="filterByType('3bon')" class="filter-chip" data-filter="3bon">3 ‡∏ï‡∏±‡∏ß‡∏ö‡∏ô</button>
                        <button onclick="filterByType('2bon')" class="filter-chip" data-filter="2bon">2 ‡∏ï‡∏±‡∏ß‡∏ö‡∏ô</button>
                        <button onclick="filterByType('2lang')" class="filter-chip" data-filter="2lang">2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á</button>
                        <button onclick="filterByType('runBon')" class="filter-chip" data-filter="runBon">‡∏ß‡∏¥‡πà‡∏á‡∏ö‡∏ô</button>
                        <button onclick="filterByType('runLang')" class="filter-chip" data-filter="runLang">‡∏ß‡∏¥‡πà‡∏á‡∏•‡πà‡∏≤‡∏á</button>
                    </div>
                </div>
                
                <div id="ugList" class="space-y-2 max-h-64 overflow-y-auto">
                    <p class="text-gray-400 text-center py-6 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                </div>
                <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î -->
                <div id="ugSummary" class="hidden mt-3 pt-3 border-t border-gold-200">
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-600">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span>
                        <span id="ugTotal" class="text-lg font-bold text-gold-700">0 ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="mt-8 space-y-4">
            <button onclick="openPreviewModal()" class="gold-btn w-full py-5 rounded-2xl font-semibold text-white text-lg flex items-center justify-center gap-3 shadow-xl">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                </svg>
                ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å / ‡πÅ‡∏ä‡∏£‡πå
            </button>
            
            <button onclick="clearData()" class="w-full py-4 rounded-2xl font-medium text-red-500 border-2 border-red-200 bg-white hover:bg-red-50 transition-all">
                ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </button>
        </div>

        <!-- Custom NumPad -->
        <div id="numpadOverlay" class="numpad-overlay hidden">
            <div class="numpad-container">
                <div class="numpad-display">
                    <span id="numpadValue" class="text-3xl font-bold text-gold-700 tracking-widest"></span>
                    <span id="numpadLabel" class="text-sm text-gray-500"></span>
                </div>
                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡πà‡∏ß‡∏ô -->
                <div id="quickPriceButtons" class="hidden grid grid-cols-4 gap-2 mb-3">
                    <button onclick="quickPrice(10)" class="quick-price-btn">10</button>
                    <button onclick="quickPrice(20)" class="quick-price-btn">20</button>
                    <button onclick="quickPrice(50)" class="quick-price-btn">50</button>
                    <button onclick="quickPrice(100)" class="quick-price-btn">100</button>
                </div>
                <div class="numpad-grid">
                    <button class="numpad-btn" onclick="numpadPress('1')">1</button>
                    <button class="numpad-btn" onclick="numpadPress('2')">2</button>
                    <button class="numpad-btn" onclick="numpadPress('3')">3</button>
                    <button class="numpad-btn" onclick="numpadPress('4')">4</button>
                    <button class="numpad-btn" onclick="numpadPress('5')">5</button>
                    <button class="numpad-btn" onclick="numpadPress('6')">6</button>
                    <button class="numpad-btn" onclick="numpadPress('7')">7</button>
                    <button class="numpad-btn" onclick="numpadPress('8')">8</button>
                    <button class="numpad-btn" onclick="numpadPress('9')">9</button>
                    <button class="numpad-btn numpad-special" onclick="numpadClear()">C</button>
                    <button class="numpad-btn" onclick="numpadPress('0')">0</button>
                    <button class="numpad-btn numpad-special" onclick="numpadBackspace()">‚å´</button>
                </div>
                <div class="numpad-actions">
                    <button onclick="closeNumpad()" class="flex-1 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button onclick="confirmNumpad()" class="flex-1 py-3 rounded-xl bg-gradient-to-r from-gold-500 to-gold-600 text-white font-semibold">‡∏ï‡∏Å‡∏•‡∏á</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-10">
            <!-- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≠‡∏á‡πÑ‡∏•‡πà‡∏™‡∏µ -->
            <div class="w-32 h-px mx-auto mb-4 bg-gradient-to-r from-transparent via-gold-400 to-transparent opacity-50"></div>
            <p class="text-gold-600 text-sm flex items-center justify-center gap-2">
                <span class="text-lg">‡πô</span>
                ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ ‡πÄ‡∏Æ‡∏á ‡πÜ ‡∏£‡πà‡∏≥‡∏£‡∏ß‡∏¢
                <span class="text-lg">‡πô</span>
            </p>
            <p class="text-gold-500 text-xs mt-2 opacity-60">&copy; JodHuay</p>
            <p class="text-gold-400 text-xs mt-1 opacity-50">Developed by PUNN</p>
        </footer>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="modal-overlay fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="modal-content rounded-3xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col">
            <!-- Modal Header -->
            <div class="p-4 border-b border-gold-200 bg-gradient-to-r from-gold-50 to-white flex justify-between items-center">
                <div>
                    <h2 class="text-lg font-bold text-gold-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å / ‡πÅ‡∏ä‡∏£‡πå</h2>
                    <p class="text-xs text-gray-500">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
                </div>
                <button onclick="closePreviewModal()" class="w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 text-2xl font-bold transition-all hover:scale-110">&times;</button>
            </div>
            
            <!-- Selection Area - Compact -->
            <div class="p-3 border-b border-gray-100 bg-gray-50 flex-shrink-0">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-gold-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="text-sm font-medium text-gray-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß <span id="selectedCount" class="font-bold text-gold-700">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="toggleSelectionPanel()" id="toggleSelectionBtn" class="px-3 py-1.5 bg-white text-gray-600 rounded-lg text-xs font-semibold border border-gray-300 hover:bg-gray-50 transition-all">
                            ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                        </button>
                        <button onclick="selectAll()" class="px-3 py-1.5 bg-gold-500 text-white rounded-lg text-xs font-semibold hover:bg-gold-600 transition-all">
                            ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </button>
                    </div>
                </div>
                <!-- Expandable Selection List -->
                <div id="selectionPanel" class="hidden mt-3 pt-3 border-t border-gray-200">
                    <div id="selectionList" class="flex flex-wrap gap-1.5 max-h-32 overflow-y-auto"></div>
                    <button onclick="selectNone()" class="mt-2 w-full py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-gray-200 transition-all">
                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>
                </div>
            </div>

            <!-- Preview Area -->
            <div class="flex-1 overflow-auto p-4 bg-gradient-to-br from-gray-100 to-gray-200">
                <div class="flex justify-center">
                    <div id="a4Preview" class="paper-preview rounded-lg" style="width: 100%; max-width: 794px; min-height: 200px; padding: 32px 24px; font-family: 'Prompt', sans-serif; background: linear-gradient(180deg, #FFFCF5 0%, #FFF9F0 100%);">
                        <div class="text-center mb-6">
                            <!-- Sacred header -->
                            <div style="display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:6px;">
                                <span style="color:#DAA520;font-size:14px;display:inline-block;transform:scaleX(-1);">‡πõ</span>
                                <div style="width:30px;height:1px;background:linear-gradient(90deg,transparent,#DAA520);"></div>
                                <span style="color:#DAA520;font-size:8px;">‚óÜ</span>
                                <div style="width:30px;height:1px;background:linear-gradient(90deg,#DAA520,transparent);"></div>
                                <span style="color:#DAA520;font-size:14px;">‡πõ</span>
                            </div>
                            <h1 style="font-family:'Charmonman',cursive;font-size:24px;font-weight:700;color:#8B6914;letter-spacing:0.05em;margin-bottom:6px;">JODHUAY</h1>
                            <div style="display:flex;align-items:center;justify-content:center;gap:6px;margin:8px 0;">
                                <div style="width:40px;height:1px;background:linear-gradient(90deg,transparent,#D4C4A8);"></div>
                                <span style="color:#DAA520;font-size:6px;">‚óÜ</span>
                                <div style="width:40px;height:1px;background:linear-gradient(90deg,#D4C4A8,transparent);"></div>
                            </div>
                        </div>
                        <div id="previewContent"></div>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-3 border-t border-gray-100 bg-white">
                <!-- Mode Toggle -->
                <div class="flex gap-1.5 mb-2 p-0.5 bg-gray-100 rounded-lg">
                    <button onclick="switchModalMode('text')" id="modeText" class="modal-mode-btn active flex-1 py-2 rounded-md font-semibold text-xs transition-all flex items-center justify-center gap-1.5">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                    </button>
                    <button onclick="switchModalMode('image')" id="modeImage" class="modal-mode-btn flex-1 py-2 rounded-md font-semibold text-xs transition-all flex items-center justify-center gap-1.5">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
                    </button>
                </div>
                
                <!-- Action Buttons -->
                <div class="grid grid-cols-2 gap-2">
                    <button onclick="handleCopyOrSave()" id="btnCopyOrSave" class="py-3 rounded-xl font-semibold border-2 border-gold-300 text-gold-700 hover:bg-gold-50 transition-all text-sm flex items-center justify-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                        <span id="btnCopyOrSaveText">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</span>
                    </button>
                    <button onclick="handleShare()" id="btnShare" class="py-3 rounded-xl font-semibold bg-gradient-to-r from-gold-500 to-gold-600 text-white shadow-lg hover:shadow-xl transition-all text-sm flex items-center justify-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                        </svg>
                        <span id="btnShareText">‡πÅ‡∏ä‡∏£‡πå</span>
                    </button>
                </div>
                
                <button onclick="closePreviewModal()" class="w-full mt-2 py-2 rounded-xl font-medium border-2 border-gray-200 text-gray-600 hover:bg-gray-50 transition-all text-sm">
                    ‡∏õ‡∏¥‡∏î
                </button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-24 left-1/2 transform -translate-x-1/2 text-white px-8 py-4 rounded-2xl shadow-2xl opacity-0 transition-all duration-300 pointer-events-none z-50">
        <span id="toastMessage" class="font-medium"></span>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="confirmModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm">
        <div class="bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl transform transition-all scale-95 opacity-0" id="confirmModalContent">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
                <p class="text-gray-600 text-sm">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?<br>‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ</p>
            </div>
            <div class="flex gap-3">
                <button onclick="closeConfirmModal()" class="flex-1 py-3 px-4 rounded-xl border-2 border-gray-200 text-gray-700 font-semibold hover:bg-gray-50 transition-all">
                    ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
                <button onclick="confirmClearData()" class="flex-1 py-3 px-4 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-all shadow-lg">
                    ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-xl shadow-lg opacity-0 transition-all duration-300 z-50">
        <span id="toastMessage"></span>
    </div>

    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg hidden z-50 flex items-center gap-2">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"></path>
        </svg>
        <span class="text-sm font-medium">‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå</span>
    </div>

    <!-- Confetti Container -->
    <canvas id="confetti" class="fixed inset-0 pointer-events-none z-40" style="display:none;"></canvas>

    <script src="app.js"></script>
</body>
</html>
